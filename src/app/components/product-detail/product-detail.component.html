<div class="container my-5">
  <a class="my-5" routerLink="../"
    ><i class="fas fa-arrow-left mr-2"></i>Back to all Plants</a
  >
  <div class="row mt-5 justify-content-center" *ngIf="product">
    <div class="col-4">
      <div class="img-product-detail">
        <img [src]="product.images" alt="" />
      </div>
    </div>
    <div class="description col-4">
      <h2 class="text-name font-weight-bold">{{ product.name }}</h2>
      <h1>{{ product.price | currency: "USD" }}</h1>
      <p class="text-warning">
        {{ product.avg_rating }}/5<i class="fas fa-star ml-1"></i>
      </p>
      <p>
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus,
        facere cum commodi cumque sunt perferendis veniam nostrum, minima velit
        dicta animi eligendi, repellat omnis. Distinctio quis excepturi
        obcaecati eos illum.
      </p>
      <button
        type="button"
        (click)="addToCart(product)"
        class="btn btn-primary w-50"
        (click)="cartService.addItem(product)"
        *ngIf="cartService.getItemQuantity(product) === 0; else updateQuantity"
      >
        <i class="fas fa-shopping-cart mr-2"></i>Add to cart
      </button>
      <!-- <button
        type="button"
        class="btn btn-primary w-50"
        (click)="addToCart(product)"
      >
        Buy to cart
      </button> -->
      <ng-template #updateQuantity>
        <div
          class="d-flex justify-content-between align-items-center btn-add-remove w-50"
        >
          <button
            class="btn btn-minus"
            (click)="cartService.removeItem(product)"
          >
            <i class="fas fa-minus text-white"></i>
          </button>
          <span class="text-white font-weight-bold">
            {{ cartService.getItemQuantity(product) }}</span
          >
          <button class="btn btn-add" (click)="cartService.addItem(product)">
            <i class="fas fa-plus text-white"></i>
          </button>
        </div>
      </ng-template>
    </div>
  </div>
</div>
